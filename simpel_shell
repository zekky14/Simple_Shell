#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include "shell.h"

/**
 * main - UNIX command line interpreter.
 *
 * @argc: The number of arguments passed to the program.
 * @argv: An array of strings containing the arguments passed to the program.
 * @envp: An array of strings containing the environment variables.
 *
 * Return: Always 0.
 */

int main(int argc, char **argv, char **envp) {
char cmd[100];

while (1) {
write(STDOUT_FILENO, "Enter a command: ", 17);
if (fgets(cmd, sizeof(cmd), stdin) == NULL) {
write(STDOUT_FILENO, "\n", 1);
break;
}

if (cmd[strlen(cmd) - 1] == '\n') {
cmd[strlen(cmd) - 1] = '\0';
}
pid_t pid = fork();
if (pid == -1) {
perror("fork");
exit(EXIT_FAILURE);
} else if (pid == 0) {
char *args[] = {cmd, NULL};
execve(args[0], args, envp);
perror("execve");
exit(EXIT_FAILURE);
} else {
int status;
waitpid(pid, &status, 0);
}
}
return 0;
}
